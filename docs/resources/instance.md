---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "civo_instance Resource - terraform-provider-civo"
subcategory: "Civo Instance"
description: |-
  Provides a Civo instance resource. This can be used to create, modify, and delete instances.
---

# civo_instance (Resource)

Provides a Civo instance resource. This can be used to create, modify, and delete instances.

## Example Usage

* View instances after creation on the [CLI](https://www.civo.com/docs/overview/civo-cli):
```
civo instances ls
```
* View instances after creation on the [Dashboard](https://dashboard.civo.com/instances)
* View node sizes on [CLI](https://www.civo.com/docs/overview/civo-cli):

```
civo instances size
```

### Simple and smallest instance with its own network

```terraform
provider "civo" {
  region = "LON1"
}

resource "civo_firewall" "example" {
    name = "example-firewall"
    create_default_rules = true
    network_id = civo_network.example.id

}

resource "civo_network" "example" {
  label = "example-network"

}

# Query instance disk image
data "civo_disk_image" "debian" {
   filter {
        key = "name"
        values = ["debian-10"]
   }
}

# Create a new instance
resource "civo_instance" "example" {
    hostname = "example"
    tags = ["example", "documentation"]
    notes = "This is an example instance"
    firewall_id = civo_firewall.example.id
    network_id = civo_network.example.id
    size = "g3.xsmall"
    disk_image = data.civo_disk_image.debian.diskimages[0].id
}
```

With this configuration, an initial password for the instance gets written to the state on output `initial_password` which you can use to access the instance.

Alternative you can get the password with the [CLI](https://www.civo.com/docs/overview/civo-cli):

```
civo instances show example
```

### Instance with ssh login

```terraform

provider "civo" {
  region = "LON1"
}

resource "civo_firewall" "example" {
    name = "example-firewall"
    create_default_rules = true
    network_id = civo_network.example.id

}

resource "civo_network" "example" {
  label = "example-network"

}

# Query instance disk image
data "civo_disk_image" "debian" {
   filter {
        key = "name"
        values = ["debian-10"]
   }
}

# To create the example key, run this command:
# ssh-keygen -f ~/.ssh/example-tf -C "terraform-example@localmachine"

resource "civo_ssh_key" "example"{
    name = "example"
    public_key = file("~/.ssh/example-tf.pub")
}

# Create a new instance
resource "civo_instance" "example" {
    hostname = "example"
    tags = ["example", "documentation"]
    notes = "This is an example instance"
    sshkey_id = civo_ssh_key.example.id
    firewall_id = civo_firewall.example.id
    network_id = civo_network.example.id
    size = "g3.xsmall"
    disk_image = data.civo_disk_image.debian.diskimages[0].id
    volume_type = "csi-s3"
}

```


## Argument Reference

### Required

- `firewall_id` (String) The ID of the firewall to use, from the current list. If left blank or not sent, the default firewall will be used (open to all)
- `disk_image` (String) The ID for the disk image to use to build the instance

### Optional

- `hostname` (String) A fully qualified domain name that should be set as the instance's hostname
- `initial_user` (String) The name of the initial user created on the server (optional; this will default to the template's default_username and fallback to civo)
- `network_id` (String) This must be the ID of the network from the network listing (optional; default network used when not specified)
- `notes` (String) Add some notes to the instance
- `private_ipv4` (String) The private IPv4 address for the instance (optional)
- `public_ip_required` (String) This should be either 'none' or 'create' (default: 'create')
- `region` (String) The region for the instance, if not declare we use the region in declared in the provider
- `reserved_ipv4` (String) Can be either the UUID, name, or the IP address of the reserved IP
- `reverse_dns` (String) A fully qualified domain name that should be used as the instance's IP's reverse DNS (optional, uses the hostname if unspecified)
- `script` (String) The contents of a script that will be uploaded to /usr/local/bin/civo-user-init-script on your instance, read/write/executable only by root and then will be executed at the end of the cloud initialization. To fetch from file: `file("${path.module}/script")` (this is an immutable field, meaning you can't change it after creation)
- `size` (String) The name of the size, from the current list, e.g. g3.xsmall
- `sshkey_id` (String) The ID of an already uploaded SSH public key to use for login to the default user (optional; if one isn't provided a random password will be set and returned in the initial_password field)
- `tags` (Set of String) An optional list of tags, represented as a key, value pair
- `timeouts` (Block, Optional) (see [below for nested schema](#nestedblock--timeouts)) defines timeouts for cluster creation, read and update, default is 30 minutes for all
- `write_password` (Boolean) If set to true then initial_password for the instance will be saved to terraform state file. (default: false)
- `volume_type` (string) Type of volume that instance should be created with, e.g: ms-xfs-2-replicas, px-csi-db (default: csi-s3)

<a id="nestedblock--timeouts"></a>
### Nested Schema for `timeouts`

Optional:

- `create` (String) sets timeout for cluster creation - default 30 minutes

## Attributes Reference

- `cpu_cores` (Number) Instance's CPU cores
- `created_at` (String) Timestamp when the instance was created
- `disk_gb` (Number) Instance's disk (GB)
- `id` (String) The ID of this resource.
- `initial_password` (String, Sensitive) Initial password for login
- `private_ip` (String) Instance's private IP address
- `public_ip` (String) Instance's public IP address
- `ram_mb` (Number) Instance's RAM (MB)
- `source_id` (String) Instance's source ID
- `source_type` (String) Instance's source type
- `status` (String) Instance's status



## Import

Import is supported using the following syntax:

```shell
# using ID
terraform import civo_instance.example 18bd98ad-1b6e-4f87-b48f-e690b4fd7413
```
